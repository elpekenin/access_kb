\documentclass[11pt]{report}
\usepackage[T1]{fontenc}
% \usepackage [latin1]{inputenc}
\usepackage{fontawesome} %icons

% Images
\usepackage{graphicx}
\usepackage{float}
\usepackage{caption}
\usepackage{subcaption}

% Links
\usepackage[hidelinks]{hyperref}

% References
\usepackage{csquotes}
\usepackage[spanish,activeacute]{babel}
\usepackage[
    backend=biber,
    sorting=none,
    citestyle=numeric,
    bibstyle=science
]{biblatex}
\addbibresource{references.bib}

% Avoid indenting each line
\setlength{\parindent}{0pt}

% Custom colors
\usepackage[dvipsnames]{xcolor}
	\definecolor{white}{RGB}{255,255,255}
	
% Blocks of code
\usepackage{listings}
  \definecolor{codegreen}{rgb}{0,0.6,0}
  \definecolor{codegray}{rgb}{0.5,0.5,0.5}
  \definecolor{codepurple}{rgb}{0.58,0,0.82}
  \definecolor{backcolour}{rgb}{0.95,0.95,0.92}

  \lstdefinestyle{mystyle}{
     backgroundcolor=\color{backcolour},   
     commentstyle=\color{codegreen},
     keywordstyle=\color{magenta},
     numberstyle=\tiny\color{codegray},
     stringstyle=\color{codepurple},
     basicstyle=\ttfamily\footnotesize,
     breakatwhitespace=false,         
     breaklines=true,                 
     captionpos=b,                    
     keepspaces=true,                 
     numbers=none,                    
     numbersep=5pt,                  
     showspaces=false,                
     showstringspaces=false,
     showtabs=false,                  
     tabsize=2
  }
  \lstset{style=mystyle}

% - Front page
\usepackage{tikzpagenodes}
\usepackage{ragged2e}
  \addto\captionsspanish{\renewcommand{\contentsname}{Índice}}

% Page format
\usepackage[margin=2cm, top=2cm, includefoot]{geometry}
  \addtolength{\topmargin}{-1cm}
\usepackage{fancyhdr}
  \renewcommand{\chaptermark}[1]{\markboth{#1}{}}
  \setlength{\headheight}{80pt}
  \pagestyle{fancy}
  \fancyhf{}
  \fancyfoot[C]{\thepage}
  \lhead{
    \hyperref[chapter:contents]{\includegraphics[height=40pt]{images/UPCT-header.png}}
    \ifnum\value{chapter}=0 {}
    \else {{\hfill \Large \thechapter\ \itshape $\vert$ \leftmark \hspace{5cm} \hfill}}
    \fi
} 
% \rhead{\includegraphics[height=35pt]{image.png}}
\renewcommand{\headrulewidth}{3pt}
\renewcommand{\headrule}{\hbox to\headwidth{\color{RoyalBlue}\leaders\hrule height \headrulewidth\hfill}}

% Chapter format
\usepackage{chngcntr}
	\counterwithout{figure}{chapter}
	\counterwithout{table}{chapter}
\usepackage{etoolbox}
\usepackage[Glenn]{fncychap}
  \addto\captionsspanish{\renewcommand{\chaptername}{Sección}}
\makeatletter
\patchcmd{\@makechapterhead}{\vspace*{50\p@}}{\vspace*{-20\p@}}{}{}
\patchcmd{\@makeschapterhead}{\vspace*{50\p@}}{\vspace*{-20\p@}}{}{}
\patchcmd{\DOTI}{\vskip 80\p@}{\vskip 40\p@}{}{}
\patchcmd{\DOTIS}{\vskip 40\p@}{\vskip 0\p@}{}{}
\makeatother

% -- Custom functions
% CLI
\usepackage{soul}
	\sethlcolor{black}
\newcommand{\cli}[1]{%
  \mbox{%
		\textcolor{white}{\hl{#1}}%
  }%
}

% Code block
\newcommand{\code}[2]{%
  \lstinputlisting[language=#2]{snippets/#1}%
}

% Image
\newcommand{\credit}[1]{%
  \begin{flushright}%
    \item #1%
  \end{flushright}%
}

\newcommand{\image}[3]{%location, width, caption
  \begin{figure}[H]%
    \centering%
    \includegraphics[width=#2]{images/#1}%
    \caption{#3}%
  \end{figure}%
}

% File
\newcommand{\lined}[1]{\smash{\begin{tabular}{l} \hline #1 \\ \hline \end{tabular}\hspace*{-\tabcolsep}}} %lined 
\newcommand{\file}[3]{%location, name, lang
  \par%
  \lined{%
    \textbf{%
      \faCode \ \color{gray}{\texttt{#1/#2}}%file path
    }%
  }%
  \vspace{-.1cm}%
  \code{#2}{#3}%file content
}
